# Discord出席管理ボット

## 機能

* **出席管理**: 特定のメッセージへのリアクションに基づいて出席を記録し、出席ロールを付与します。
* **定期メッセージ**: 設定されたユーザーに定期的にメッセージを送信します。
* **コマンド**:
    * `/test`: テストメッセージを送信します。
    * `/stop`: ボットを停止します（デバッグチャンネルでのみ有効）。
    * `/remove_role`: 出席ロールを剥奪します（デバッグチャンネルでのみ有効）。
    * `/members`: サーバーのメンバーリストを表示します（デバッグチャンネルでのみ有効）。
    * `/attendance_list`: 指定された日の出席者リストを表示します。部門を指定して検索することも、テキストファイルで出力することも可能です。
* **自動ロール剥奪**: 毎日00:08に出席ロールを自動的に剥奪します。
* **メンバー管理**: サーバーへの参加/退出時にメンバーリストを更新します。

## 設定方法

1.  **環境変数の設定**: `.env` ファイルに以下の環境変数を設定します。
    * `DISCORD_TOKEN`: Discordボットのトークン
    * `debug_channel_id`: デバッグチャンネルのID
    * `attendance_confirmation_channel_id`: 出席確認チャンネルのID
    * `attendance_record_channel_id`: 出席記録チャンネルのID
    * `attendance_role_id`: 出席ロールのID
    * `attendance_message_id`: 出席確認メッセージのID
    * `target_user_id`: 定期メッセージを送信するユーザーのID
    * `FORTNITE_ROLE_ID`: フォートナイト部門ロールのID
    * `TAIKAI_ROLE_ID`: 大会部門ロールのID
    * `ENJOY_ROLE_ID`: エンジョイ部門ロールのID
    * `CREATOR_ROLE_ID`: クリエイター部門ロールのID
2.  **必要なライブラリのインストール**: `discord.py`, `python-dotenv`, `schedule` をインストールします。
3.  **ボットの起動**: スクリプトを実行します。

## コマンドの使用方法

* `/attendance_list 日付 (部門名)`: 指定された日の出席者リストを表示します。部門名を指定すると、その部門の出席者のみを表示します。
    * 例: `/attendance_list 2023/10/27 大会部門`
* `/attendance_list` の結果には「テキストで出力」ボタンが表示され、テキストファイルで結果を出力できます。